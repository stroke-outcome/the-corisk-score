(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(28)},22:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);a(11),a(13),a(15);var n=a(0),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a(2),c=a(3),m=a(5),u=a(4),h=a(6),p=a(9),d=(a(22),function(e){return s.a.createElement("footer",{className:"bg-gray"},s.a.createElement("section",{className:"grid-footer container grid-480"},s.a.createElement("p",null,"Licensed under the ",s.a.createElement("a",{href:"https://github.com/stroke-outcome/the-corisk-score/blob/master/LICENSE"},"MIT License"),". Version ",e.version),s.a.createElement("p",null,"Built with \u2764 by ",s.a.createElement("a",{href:"https://smalldata.tech"},"SmallData"),".")))}),b=(a(24),function(e){return s.a.createElement("div",{className:"container grid-480"},s.a.createElement("div",{className:"text-center"},s.a.createElement("h1",{className:"app-title"},"Calculated CoRisk Score"),s.a.createElement("div",{className:"centered fade-in",id:"score"},s.a.createElement("div",{id:"score-content"},s.a.createElement("div",{id:"score-content-value"},e.percentage)),s.a.createElement("div",{id:"score-content-badge"},s.a.createElement("div",{id:"score-content-badge-content"},"%"))),s.a.createElement("div",{className:"centered"},s.a.createElement("a",{className:"btn btn-lg",onClick:function(t){t.preventDefault(),e.onRecalculate()}},"Re-calculate"))))}),v=function(e){return{reason:"",value:e,isValid:!0}},g=function(){return{reason:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",value:null,isValid:!1}},f=function(e){if(""===e)return g("Age is required");var t=parseInt(e,10);return isNaN(t)?g("Age must be a number"):t<0||t>120?g("Age must be between 0 and 120"):v(t)},E=function(e){if(""===e)return g("Nihss points is required");var t=parseInt(e,10);return isNaN(t)?g("Nihss points must be a number"):t<0||t>42?g("Nihss points must be between 0 and 42 inclusive"):v(t)},N=function(e){if(""===e)return g("Copeptin level is required");var t=parseFloat(e);return isNaN(t)?g("Copeptin level must be a number"):t>999?g("Copeptin level must be below 999"):v(t)},y=function(e){var t=e.age,a=e.nihss,n=e.copeptin,s=e.thrombolysis,i=void 0!==s&&s;if(!f(t).isValid||!E(a).isValid||!N(n).isValid)return-1;var r=i?1:0,o=1/(1+Math.exp(7.201586-.05702*t-.22001*a+2.05353*r-1.18481*Math.log10(n)));return Math.round(100*o)},C=function(e){var t=e.formHint?"":"hide";return s.a.createElement("div",{className:"form-group form-input-hint fade-in "+t},s.a.createElement("div",{className:"col-12 text-right"},e.formHint))},S=Number.MAX_SAFE_INTEGER,j=function(e,t){var a=t(e);return a.isValid?"":a.reason},k=function(e){var t;return e.age!==S&&(e.ageFormHint=j(e.age,f)),e.nihss!==S&&(e.nihssFormHint=j(e.nihss,E)),e.copeptin!==S&&(e.copeptinFormHint=j(e.copeptin,N)),e.isSubmittable=!((t=e).ageFormHint||t.nihssFormHint||t.copeptinFormHint||t.age===S||t.nihss===S||t.copeptin===S),e},H=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleAgeChange=function(e){var t=Object(o.a)({},a.state,{age:e.target.value});a.setLocalState(t)},a.handleNihssChange=function(e){var t=Object(o.a)({},a.state,{nihss:e.target.value});a.setLocalState(t)},a.handleCopeptinChange=function(e){var t=Object(o.a)({},a.state,{copeptin:e.target.value});a.setLocalState(t)},a.handleThrombolysisChange=function(e){var t=Object(o.a)({},a.state,{thrombolysis:e});a.setLocalState(t)},a.handleThrombolysisYes=function(){a.handleThrombolysisChange(!0)},a.handleThrombolysisNo=function(){a.handleThrombolysisChange(!1)},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.age,s=t.nihss,i=t.copeptin,r=t.thrombolysis;a.props.onCalculate({age:n,nihss:s,copeptin:i,thrombolysis:r})};var n=e.age,s=void 0===n?S:n,i=e.nihss,r=void 0===i?S:i,c=e.copeptin,h=void 0===c?S:c,p=e.thrombolysis,d=k({age:s,ageFormHint:"",nihss:r,nihssFormHint:"",copeptin:h,copeptinFormHint:"",thrombolysis:void 0!==p&&p,isSubmittable:!1});return a.state=d,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"setLocalState",value:function(e){e=k(e),this.setState(e)}},{key:"render",value:function(){return s.a.createElement("div",{className:"container grid-480"},s.a.createElement("div",{className:""},s.a.createElement("h1",{className:"app-title text-center"},"The CoRisk Score"),s.a.createElement("p",{className:"info "},"The CoRisk Score calculates the probability of an unfavorable 3-month outcome for patients using Copeptin."),s.a.createElement("p",{className:"info"},"Use the form below to calculate your patient's score. All fields are required."),s.a.createElement("form",{className:"form-horizontal",action:"",type:"GET",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"col-6"},s.a.createElement("label",{className:"form-label"},"Age")),s.a.createElement("div",{className:"col-6"},s.a.createElement("input",{className:"form-input",name:"age",type:"number",min:"0",max:"120",value:this.state.age===S?"":this.state.age,onChange:this.handleAgeChange}))),s.a.createElement(C,{formHint:this.state.ageFormHint}),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"col-6"},s.a.createElement("label",{className:"form-label"},"NIHSS points")),s.a.createElement("div",{className:"col-6"},s.a.createElement("input",{className:"form-input",name:"nihss",type:"number",min:"0",max:"42",value:this.state.nihss===S?"":this.state.nihss,onChange:this.handleNihssChange}))),s.a.createElement(C,{formHint:this.state.nihssFormHint}),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"col-6"},s.a.createElement("label",{className:"form-label"},"Copeptin blood level (pmol/L)")),s.a.createElement("div",{className:"col-6"},s.a.createElement("input",{className:"form-input",name:"copeptin",value:this.state.copeptin===S?"":this.state.copeptin,onChange:this.handleCopeptinChange}))),s.a.createElement(C,{formHint:this.state.copeptinFormHint})," ",s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"col-6"},s.a.createElement("label",{className:"form-label"},"Thrombolysis")),s.a.createElement("div",{className:"col-6"},s.a.createElement("label",{className:"form-radio"},s.a.createElement("input",{type:"radio",name:"thrombolysis",checked:this.state.thrombolysis,onChange:this.handleThrombolysisYes}),s.a.createElement("i",{className:"form-icon"}),"Yes"),s.a.createElement("label",{className:"form-radio"},s.a.createElement("input",{type:"radio",name:"thrombolysis",checked:!this.state.thrombolysis,onChange:this.handleThrombolysisNo}),s.a.createElement("i",{className:"form-icon"}),"No"))),s.a.createElement("div",{className:"form-group mt-30"},s.a.createElement("div",{className:"col-12 text-center"},s.a.createElement("button",{className:"btn btn-primary btn-lg",disabled:this.state.isSubmittable?"":"disabled"},"Calculate"))))))}}]),t}(n.Component),O=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).onCalculate=function(e){var t=e.age,n=e.nihss,s=e.copeptin,i=e.thrombolysis,r=a.state,l=y({age:t,nihss:n,copeptin:s,thrombolysis:i});console.log(l),a.setState(Object(o.a)({},r,{age:t,nihss:n,copeptin:s,thrombolysis:i,percentage:l}))},a.onRecalculate=function(){var e=a.state;a.setState(Object(o.a)({},e,{percentage:null}))};var n={age:void 0,nihss:void 0,copeptin:void 0,thrombolysis:!1,percentage:null};return a.state=n,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,this.renderContent(),s.a.createElement(d,{version:p.version}))}},{key:"renderContent",value:function(){return null!==this.state.percentage?s.a.createElement(b,{percentage:this.state.percentage,onRecalculate:this.onRecalculate}):s.a.createElement(H,{age:this.state.age,nihss:this.state.nihss,copeptin:this.state.copeptin,thrombolysis:this.state.thrombolysis,onCalculate:this.onCalculate})}}]),t}(n.Component);a(26);r.a.render(s.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e){e.exports={name:"the-corisk-score",version:"0.4.3",private:!0,homepage:"https://stroke-outcome.github.io/the-corisk-score",dependencies:{react:"16.7.0","react-dom":"16.7.0","spectre.css":"0.2.14"},devDependencies:{chai:"4.2.0","gh-pages":"1.2.0","react-scripts":"2.1.3","release-it":"10.0.7",terser:"3.14.1"},scripts:{start:"PORT=3011 react-scripts start",build:"react-scripts build",test:"react-scripts test --env=jsdom",eject:"react-scripts eject",predeploy:"npm run build",deploy:"gh-pages -d build"},browserslist:[">0.2%","not dead","not ie <= 11","not op_mini all"]}}},[[10,2,1]]]);
//# sourceMappingURL=main.1c7b1fec.chunk.js.map